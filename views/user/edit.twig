{% extends 'layout.twig' %}

{% block body %}
<div class="container mt-4">
  <h2>Edit my profile</h2>
  <p class="lead">Change your profile information</p>
  {% include 'snippets/flashes.twig' %}
  <form class="rounded {% if errors %} was-validated{% endif %}" action="edit" method="post" id="register-form" novalidate>
    {% if errors %}
    {% for error in errors %}
    <div class="alert alert-danger">
      {{error.msg}}
    </div>
    {% endfor %}
    {% endif %}
    <div class="form-group row">
      <label for="login" class="col-sm-2 col-form-label">Login</label>
      <div class="col-sm-10">
        <input type="text" readonly class="form-control-plaintext" id="login" value="{{user.login}}">
      </div>
    </div>
    <div class="form-group row">
      <label for="email" class="col-sm-2 col-form-label">Email</label>
      <div class="col-sm-10">
        <input type="email" class="form-control" name="email" id="email" placeholder="you@example.com" value="{{user.email}}" required>
        <div class="invalid-feedback">
          Please enter your valid email.
        </div>
      </div>
    </div>
    <div class="form-group row">
      <label for="email" class="col-sm-2 col-form-label">Fullname</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" name="name" id="name" placeholder="you@example.com" value="{{user.name}}">
      </div>
    </div>
    <div class="form-group row">
      <label for="login" class="col-sm-2 col-form-label">Role</label>
      <div class="col-sm-10">
        <input type="text" readonly class="form-control-plaintext" id="role" value="{{user.role}}">
      </div>
    </div>
    <button type="submit" class="btn btn-primary">Update</button>
    <a href="/@{{user.login}}" class="btn btn-outline-secondary">Back to profile</a>
  </form>
</div>
{% endblock %}